apiVersion: v1
kind: ConfigMap
metadata:
  name: livekit-config
data:
  livekit.yaml: |
    port: 7880
    rtc:
      port_range_start: 50000
      port_range_end: 50100
      tcp_port: 7881
      # Kind/Docker 환경에서는 use_external_ip가 제대로 동작 안 할 수 있음
      # node_ip를 명시적으로 설정
      use_external_ip: false
      node_ip: "192.168.45.2"

    keys:
      devkey: devsecretkey1234567890abcdefghijk

    logging:
      level: info
      json: false

    room:
      empty_timeout: 300
      max_participants: 100

    turn:
      enabled: true
      domain: dev.wealist.co.kr
      tls_port: 0
      udp_port: 3478
      # TCP fallback (UDP 차단 환경용)
      tcp_port: 3478
